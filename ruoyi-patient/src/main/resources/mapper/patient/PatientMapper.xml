<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.patient.mapper.PatientMapper">

    <!-- 查询所有患者登记信息 -->
    <select id="getAllPatients" resultType="com.ruoyi.patient.domain.Patient">
        SELECT * FROM tws_patient
    </select>

    <!-- 根据 ID 查询患者登记信息 -->
    <select id="getPatientById" parameterType="Long" resultType="com.ruoyi.patient.domain.Patient">
        SELECT * FROM tws_patient WHERE id = #{id}
    </select>

    <!-- 插入患者登记信息 -->
    <insert id="addPatient" parameterType="com.ruoyi.patient.domain.Patient">
        INSERT INTO tws_patient (user_id, organ_needed, blood_type, medical_condition, emergency_status, status, create_time)
        VALUES (#{userId}, #{organNeeded}, #{bloodType}, #{medicalCondition}, #{emergencyStatus}, #{status}, #{createTime})
    </insert>

    <!-- 更新患者登记信息 -->
    <update id="updatePatient" parameterType="com.ruoyi.patient.domain.Patient">
        UPDATE tws_patient
        SET user_id = #{userId},
            organ_needed = #{organNeeded},
            blood_type = #{bloodType},
            medical_condition = #{medicalCondition},
            emergency_status = #{emergencyStatus},
            status = #{status}
        WHERE id = #{id}
    </update>

    <!-- 删除患者登记信息 -->
    <delete id="deletePatient" parameterType="Long">
        DELETE FROM tws_patient WHERE id = #{id}
    </delete>

</mapper>
